<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:FuchsControls.Containers"
             xmlns:controls="clr-namespace:FuchsControls"
             x:Class="FuchsControls.Containers.FuchsCard"
             x:Name="Root">
    <ContentView.Resources>
        <controls:ListHasItemsConverter x:Key="ListHasItemsConverter" />
        <controls:ObjectIsNotNullConverter x:Key="IsNotNullConverter" />
        <controls:StringIsNotNullOrEmptyConverter x:Key="StringIsNotNull" />
    </ContentView.Resources>
    <Border x:Name="CardBorder" Padding="5,10" Background="{Binding Background, Source={x:Reference Root}}"
            BackgroundColor="{Binding BackgroundColor, Source={x:Reference Root}}">
        <Grid RowDefinitions="Auto,Auto,Auto,Auto">
            <!-- Image (optional) -->
            <Image x:Name="CardImage"
                   Grid.Row="0"
                   Aspect="AspectFill"
                   IsVisible="{Binding ImageSource, Source={x:Reference Root}, Converter={StaticResource IsNotNullConverter}}"
                   Source="{Binding ImageSource, Source={x:Reference Root}}" />

            <!-- Text content -->
            <VerticalStackLayout Grid.Row="1" Spacing="5">
                <Label x:Name="TitleLabel"
                       FontAttributes="Bold"
                       FontSize="{Binding Source={x:Reference Root}, Path=TitleFontSize}"
                       IsVisible="{Binding Title, Source={x:Reference Root}, Converter={StaticResource StringIsNotNull}}"
                       Text="{Binding Title, Source={x:Reference Root}, Mode=OneWay}" />
                <Label x:Name="SubtitleLabel"
                       FontAttributes="Italic"
                       FontSize="{Binding Source={x:Reference Root}, Path=SubTitleFontSize}"
                       IsVisible="{Binding Subtitle, Source={x:Reference Root}, Converter={StaticResource StringIsNotNull}}"
                       Text="{Binding Subtitle, Source={x:Reference Root}, Mode=OneWay}" />
                <Label x:Name="BodyLabel"
                       FontSize="{Binding Source={x:Reference Root}, Path=BodyFontSize}"
                       IsVisible="{Binding Body, Source={x:Reference Root}, Converter={StaticResource StringIsNotNull}}"
                       Text="{Binding  Body, Source={x:Reference Root}, Mode=OneWay}" />
            </VerticalStackLayout>

            <!-- Footer area: either custom Content or horizontal list of items -->
            <Grid Grid.Row="2" x:Name="FooterGrid"
                  IsVisible="{Binding FooterItems, Source={x:Reference Root}, Converter={StaticResource IsNotNullConverter}}">
            </Grid>

            <!-- Action area: either custom Content or horizontal list of items -->
            <Grid Grid.Row="3" x:Name="ActionGrid"
                  IsVisible="{Binding ActionItems, Source={x:Reference Root}, Converter={StaticResource IsNotNullConverter}}">
            </Grid>
        </Grid>
    </Border>
</ContentView>